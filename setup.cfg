[flake8]

# Don't even try to analyze these :) :
extend-exclude =
  # No need to traverse egg info dir
  *.egg-info,
  # GitHub configs
  .github,
  # Cache files of MyPy
  .mypy_cache,
  # Cache files of pytest
  .pytest_cache,
  # Temp dir of pytest-testmon
  .tmontmp,
  # Occasional virtualenv dir
  .venv,
  # VS Code
  .vscode,
  # Temporary build dir
  build,
  # This contains sdists and wheels of proxy.py that we don't want to check
  dist,
  # Occasional virtualenv dir
  env,
  # Metadata of `pip wheel` cmd is autogenerated
  pip-wheel-metadata,

extend-ignore =
  I  # flake8-isort is drunk + we have isort integrated into pre-commit
  Q000
  WPS306
  WPS226
  D100
  D103
  WPS220
  WPS440
  WPS421
  WPS213
  F403
  F405
  D101
  D102
  WPS529
  D107
  D105
  WPS202
  WPS115
  WPS454
  WPS317
  WPS323
  WPS221
  N802
  WPS432
  WPS110
  Q003
  WPS407
  S105
  E122
  WPS229
  S608
  WPS214
format = wemake

# Let's not overcomplicate the code:
#max-complexity = 10
# FIXME: this is a lot!
max-complexity = 19

# Accessibility/large fonts and PEP8 friendly:
#max-line-length = 79
# Accessibility/large fonts and PEP8 unfriendly:
#max-line-length = 100
# Even more Accessibility/large fonts and PEP8 unfriendlier:
max-line-length = 127

# Allow certain violations in certain files:
per-file-ignores =

  # E800 reports a lot of false-positives for legit
  # tool-related comments;
  # WPS412 logic of an extension is in __init__.py file;
  # FIXME: WPS201 too many imports
  # FIXME: WPS402 too many `noqa`s
  #proxy/__init__.py: E800, WPS201, WPS402, WPS412

  # There are multiple `assert`s (S101)
  # and subprocesses (import – S404; call – S603) in tests;
  # also, using fixtures looks like shadowing the outer scope (WPS442);
  # and finally it's impossible to have <= members in tests (WPS202):
  tests/**.py: S101, S404, S603, WPS202, WPS442

# wemake-python-styleguide
show-source = true

# flake8-pytest-style
# PT001:
pytest-fixture-no-parentheses = true
# PT006:
pytest-parametrize-names-type = tuple
# PT007:
pytest-parametrize-values-type = tuple
pytest-parametrize-values-row-type = tuple
# PT023:
pytest-mark-no-parentheses = true

# flake8-rst-docstrings
rst-directives =
  spelling
rst-roles =
  # Built-in Sphinx roles:
  class,
  data,
  exc,
  meth,
  term,
  py:class,
  py:data,
  py:exc,
  py:meth,
  py:term,
  # Sphinx's internal role:
  event,